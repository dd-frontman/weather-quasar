"use strict";(self["webpackChunkweather_quasar"]=self["webpackChunkweather_quasar"]||[]).push([[235],{5235:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(3673),i=a(2323),o=a(8880);const r={class:"col q-py-lg q-px-lg"},c={class:"col text-white text-center"},l=(0,n._)("div",{class:"col text-h2 text-weight-thin"},[(0,n.Uk)("Quasar"),(0,n._)("br"),(0,n.Uk)("Weather")],-1),s=(0,n._)("div",{class:"q-mx-md"},"Find my location",-1),u={key:0,class:"col text-white text-center"},h={class:"text-h4 text-weight-light"},d={class:"text-h6 text-weight-light"},p={class:"text-h1 text weight-thin q-my-lg relative-position"},g=(0,n._)("span",{class:"text-h4 relative-position degree"},"Â°C",-1),w=["src"],v=(0,n._)("div",{class:"col city"},null,-1);function m(e,t,a,m,f,y){var x;const _=(0,n.up)("q-icon"),q=(0,n.up)("q-btn"),k=(0,n.up)("q-input"),b=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(b,{class:(0,i.C_)(["flex column",[(null===(x=m.weatherData)||void 0===x?void 0:x.weather[0].icon.endsWith("n"))?"bg-night":"bg-day"]])},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(k,{modelValue:m.search,"onUpdate:modelValue":t[0]||(t[0]=e=>m.search=e),onKeyup:(0,o.D2)(m.getWeatherBySearch,["enter"]),label:"Search your city",dark:""},{prepend:(0,n.w5)((()=>[(0,n.Wm)(_,{name:"place"})])),default:(0,n.w5)((()=>[(0,n.Wm)(q,{class:"cursor-pointer",round:"",dense:"",flat:"",icon:"search",onClick:m.getWeatherBySearch})])),_:1},8,["modelValue","onKeyup"])]),(0,n._)("div",c,[l,(0,n.Wm)(q,{class:"col",onClick:m.getLocation,size:"1.5em",flat:"",icon:"my_location"},{default:(0,n.w5)((()=>[s])),_:1})]),m.weatherData?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",h,(0,i.zw)(m.weatherData.name),1),(0,n._)("div",d,(0,i.zw)(m.weatherData.weather[0].description),1),(0,n._)("div",p,[(0,n._)("span",null,(0,i.zw)(Math.round(m.weatherData.main.temp)),1),g]),(0,n._)("img",{class:"img-weather bg-white",src:`http://openweathermap.org/img/wn/${m.weatherData.weather[0].icon}@2x.png`,alt:"weather"},null,8,w)])):(0,n.kq)("",!0),v])),_:1},8,["class"])}var f=a(1959),y=a(52),x=a.n(y),_=function(e,t,a,n){function i(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function c(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):i(e.value).then(r,c)}l((n=n.apply(e,t||[])).next())}))};const q=(0,n.aZ)({setup(e,{expose:t}){t();const a=(0,f.iH)(""),n=(0,f.iH)(null),i="https://api.openweathermap.org/data/2.5/weather?",o="e97367c70002d8289087dc404664352d";function r(e){return _(this,void 0,void 0,(function*(){try{const{data:t}=yield x().get(e);n.value=t}catch(t){console.log(t),alert("Nothing found, enter again.")}}))}function c(){return _(this,void 0,void 0,(function*(){if(!navigator.geolocation)return;const e=yield new Promise(((e,t)=>navigator.geolocation.getCurrentPosition(e,t))),{coords:{latitude:t,longitude:a}}=e,n=`${i}lat=${t}&lon=${a}&appid=${o}&units=metric`;yield r(n)}))}function l(){return _(this,void 0,void 0,(function*(){const e=`${i}q=${a.value}&appid=${o}&units=metric`;yield r(e)}))}const s={search:a,weatherData:n,URL:i,KEY:o,getWeather:r,getLocation:c,getWeatherBySearch:l,ref:f.iH,axios:x()};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});var k=a(4260),b=a(4379),W=a(2752),D=a(4554),$=a(7435),C=a(7518),S=a.n(C);const Z=(0,k.Z)(q,[["render",m]]),P=Z;S()(q,"components",{QPage:b.Z,QInput:W.Z,QIcon:D.Z,QBtn:$.Z})}}]);